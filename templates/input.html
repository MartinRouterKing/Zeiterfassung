{% extends 'base.html' %}
{% block content %}
{% load bootstrap3 %}       {# import bootstrap3 #}
{% bootstrap_css %}         {# Embed Bootstrap CSS #}
{% bootstrap_javascript jquery='full' %}  {# Embed Bootstrap JS+jQuery #}
{{ form.media }}            {# Adds date-picker required JS and CSS #}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
body {background-color: rgb(250, 250, 250);}

</style>
</head>
<body>

  <div class="container-fluid">
    <div class="panel-body">
    {% if messages %}
        {% for message in messages %}
        <div class="alert alert-{{message.tags}} fade in" role="alert">
        <strong{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</Strong>
    {% endfor %}
</div>
{% endif %}
    </div>
    </div>

    <div class="bg"></div>
  <div class="container-fluid">
    <div class="panel panel-default">
      <div class="panel-heading">Eingabe</div>
    <div class="panel-body">
<form method="post" id="eventForm" data-element-url="{% url 'ajax_load_element' %}">
{% csrf_token %}

    {{ form.as_p }}

    <script type="text/javascript">
        $(function () {
            $('#datetimepicker1')
            });
    </script>

    <button type="submit" class="btn btn-primary btn-lg btn-block" >Eingabe</button>

</form>
    </div>
    </div>
  </div>

  <script>
    $("#id_categories").attr('class', 'form-control', 'required', '');
    $("#id_element").attr('class', 'form-control', 'required', '');
    $("#id_notiz").attr('class', 'form-control', 'required', '', 'rows', '5');

    $("#id_categories").change(function () {
        $("#id_categories").attr('class', 'form-control');

      var url = $("#eventForm").attr("data-element-url");   // get the url of the `load_elements` view
      var categoriesId = $(this).val();                     // get the selected country ID from the HTML input

      $.ajax({                                              // initialize an AJAX request
        url: url,                                           // set the url of the request (= localhost:8000/hr/ajax/element/)
        data: {
          'categories': categoriesId                        // add the country id to the GET parameters
        },
        success: function (data) {                          // `data` is the return of the `load_element` view function
          $("#id_element").html(data);                      // replace the contents of the city input with the data that came from the server
        }
      });
    });
  </script>

</body>
</html>

{% endblock %}